!function t(e,a,s){function n(o,r){if(!a[o]){if(!e[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[o]={exports:{}};e[o][0].call(c.exports,function(t){var a=e[o][1][t];return n(a?a:t)},c,c.exports,t,e,a,s)}return a[o].exports}for(var i="function"==typeof require&&require,o=0;o<s.length;o++)n(s[o]);return n}({1:[function(t,e,a){var s=t("./wheel"),n=t("./tasks");e.exports=function(){s(),n()}},{"./tasks":6,"./wheel":10}],2:[function(t,e,a){e.exports=function(){if(document.documentElement.clientWidth/document.documentElement.clientHeight>=4/3){var t=$.Event("click"),e=document.querySelector(".js-tasks_section");$(e).trigger(t)}}},{}],3:[function(t,e,a){var s=t("../sections/tasks/update");e.exports=function(){var t=document.querySelector(".js-daily-tasks");new Sortable.create(t,{animation:150,filter:".js-task_edit",preventOnFilter:!1,chosenClass:"task_chosen",dataIdAttr:"data-id",onEnd:function(t){var e={oldIndex:t.oldIndex,newIndex:t.newIndex,id:$(t.item).attr("data-id")};$.ajax({type:"PUT",url:"/tasks/dailyUpdateOrder",data:e,dataType:"JSON",success:function(t){s(t)}})}})}},{"../sections/tasks/update":38}],4:[function(t,e,a){var s=t("../sections/wheel/update"),n=t("../sections/tasks/update");e.exports=function(){var t=document.querySelector(".js-wheel");new Sortable.create(t,{animation:150,filter:".js-sector_edit, .js-sector_add",preventOnFilter:!1,chosenClass:"sector_chosen",dataIdAttr:"data-id",onEnd:function(t){var e={oldIndex:t.oldIndex,newIndex:t.newIndex,id:$(t.item).attr("data-id")};$.ajax({type:"PUT",url:"/sectors/updateOrder",data:e,dataType:"JSON",success:function(t){s(t[0].sectors),n(t[0].tasks)}})}})}},{"../sections/tasks/update":38,"../sections/wheel/update":47}],5:[function(t,e,a){var s=t("../sections/tasks/update");e.exports=function(){var t=document.querySelector(".js-all-tasks");new Sortable.create(t,{animation:150,filter:".js-task_edit",preventOnFilter:!1,chosenClass:"task_chosen",dataIdAttr:"data-id",onEnd:function(t){var e={oldIndex:t.oldIndex,newIndex:t.newIndex,id:$(t.item).attr("data-id")};$.ajax({type:"PUT",url:"/tasks/updateOrder",data:e,dataType:"JSON",success:function(t){s(t)}})}})}},{"../sections/tasks/update":38}],6:[function(t,e,a){var s=t("../sections/tasks/show"),n=t("../sections/tasks/form"),i=t("./sortable-tasks"),o=t("./sortable-daily"),r=t("./section-tasks"),l=t("./toggle-on");e.exports=function(){n(),$.ajax({type:"GET",url:"/tasks",dataType:"JSON",success:function(t){s(t)}}).done(function(){i(),o(),r(),l();var t=document.querySelector(".js-tasks"),e=document.querySelector(".js-daily-tasks");if(Ps.initialize(t),Ps.initialize(e),!("ontouchstart"in document.documentElement)){var a=Array.prototype.slice.call(document.querySelectorAll(".js-table-first")),s=Array.prototype.slice.call(document.querySelectorAll(".js-table-second")),n=Array.prototype.slice.call(document.querySelectorAll(".js-table-third")),d=Array.prototype.slice.call(document.querySelectorAll(".js-table-fourth"));a.concat(s,n,d).forEach(function(t){Ps.initialize(t)})}})}},{"../sections/tasks/form":22,"../sections/tasks/show":31,"./section-tasks":2,"./sortable-daily":3,"./sortable-tasks":5,"./toggle-on":8}],7:[function(t,e,a){var s=t("./toggle");e.exports=function(){$(".js-wheel,.js-tasks,.js-daily-tasks,.js-table").off("doubletap",".js-sector, .js-task",s)}},{"./toggle":9}],8:[function(t,e,a){var s=t("./toggle");e.exports=function(){$(".js-wheel,.js-tasks,.js-daily-tasks,.js-table").on("doubletap",".js-sector, .js-task",s)}},{"./toggle":9}],9:[function(t,e,a){e.exports=function(){$(this).children(".js-button-group_lora").toggle()}},{}],10:[function(t,e,a){var s=t("../sections/wheel/show"),n=t("./sortable-sectors");e.exports=function(){$.ajax({type:"GET",url:"/sectors",dataType:"JSON",success:function(t){s(t)}}).done(function(){n()})}},{"../sections/wheel/show":46,"./sortable-sectors":4}],11:[function(t,e,a){var s=t("./functional/init"),n=t("./sections/sector"),i=t("./sections/task");$(document).ready(function(){s(),Foundation.Abide.defaults.patterns.time=/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){1}$/,$(document).foundation(),$(".js-wheel").on("click",".js-button_add",n.add),$(".js-wheel").on("click",".js-button_edit",n.edit),$(".js-wheel").on("click",".js-button_cancel",n.editCancel),$(".js-wheel").on("click",".js-button_save",n.editSave),$(".js-wheel_tabs").on("tap",".tabs-title",function(t){var e=t.target.getAttribute("aria-controls");$.find("[data-table-id]").forEach(function(t){$(t).removeClass("table-active")}),$("[data-table-id="+e+"]").addClass("table-active")}),$(".js-task_add, .js-task_edit").on("keypress",".js-task__time",function(t){var e=function(t){return t.which<32?null:String.fromCharCode(t.which)}(t);if(!t.ctrlKey&&!t.altKey&&null!=e)return!(e<"0"||e>"9")&&void 0}),$(".js-task_add, .js-task_edit").on("input",".js-task__time",function(t){var e=t.target;2===e.value.length&&(e.value+=":")}),$(".js-task_add, .js-task_edit").on("keyup",".js-task__time",function(t){var e=t.target;e.value;8===t.which&&(e.value="")}),$(".js-task_add").on("click",".js-task__daily-switch",function(){$(".js-task__matrix").toggle(),$(".js-task__daily-switch")[0].checked?$(".js-button_add").attr("disabled",!1):$(".js-button_add").attr("disabled",!0)}),$(".js-task_add").on("click",".js-urgent, .js-not-urgent, .js-important, .js-not-important",function(){var t=$(".js-urgent")[0].checked,e=$(".js-not-urgent")[0].checked,a=$(".js-important")[0].checked,s=$(".js-not-important")[0].checked;(t||e)&&(a||s)&&$(".js-button_add").attr("disabled",!1)}),$(".js-task_add").on("click",".js-button_add",i.add),$(".js-task_add").on("click",".js-button_reset",function(){$(".js-task_add .js-button_add")[0].disabled=!0,$(".js-task__daily-switch")[0].checked&&$(".js-task__matrix").show()}),$(".js-tasks, .js-daily-tasks, .js-table").on("click",".js-button_edit",i.edit),$(".js-tasks, .js-daily-tasks, .js-table").on("click",".js-button_delete",i.delete),$(".js-tasks, .js-daily-tasks, .js-table").on("click",".js-button_cancel",i.editCancel),$(".js-tasks, .js-daily-tasks, .js-table").on("click",".js-button_save",i.editSave)})},{"./functional/init":1,"./sections/sector":14,"./sections/task":15}],12:[function(t,e,a){var s={};s.edit=function(){return $("<button/>",{class:"button secondary button_lora js-button_edit",text:"Редактировать"})},s.delete=function(){return $("<button/>",{class:"button alert button_lora js-button_delete",text:"Удалить"})},s.save=function(){return $("<button/>",{class:"button success button_lora js-button_save",text:"Сохранить"})},s.cancel=function(){return $("<button/>",{class:"button secondary button_lora js-button_cancel",text:"Отмена"})},e.exports=s},{}],13:[function(t,e,a){var s={};s.add=function(){return $("body").append($("<span/>",{class:"label success notice js-add_success",text:"✓ Добавлено"}).prepend($("<i/>",{class:"fi-check"})))},s.delete=function(){return $("body").append($("<span/>",{class:"label warning notice js-delete_success",text:"✓ Удалено"}).prepend($("<i/>",{class:"fi-check"})))},s.save=function(){return $("body").append($("<span/>",{class:"label success notice js-save_success",text:"✓ Сохранено"}).prepend($("<i/>",{class:"fi-check"})))},s.remove=function(t){return setTimeout(function(){$(".js-"+t+"_success").remove()},2e3)},e.exports=s},{}],14:[function(t,e,a){var s=t("./wheel/add"),n=t("./wheel/edit"),i=t("./wheel/edit-cancel"),o=t("./wheel/edit-save"),r={};r.add=function(t){return s(t)},r.edit=function(t){return n(t)},r.editCancel=function(t){return i(t)},r.editSave=function(t){return o(t)},e.exports=r},{"./wheel/add":39,"./wheel/edit":42,"./wheel/edit-cancel":40,"./wheel/edit-save":41}],15:[function(t,e,a){var s=t("./tasks/add"),n=t("./tasks/edit"),i=t("./tasks/edit-cancel"),o=t("./tasks/edit-save"),r=t("./tasks/delete"),l={};l.add=function(t){return s(t)},l.edit=function(t){return n(t)},l.editCancel=function(t){return i(t)},l.editSave=function(t){return o(t)},l.delete=function(t){return r(t)},e.exports=l},{"./tasks/add":16,"./tasks/delete":17,"./tasks/edit":20,"./tasks/edit-cancel":18,"./tasks/edit-save":19}],16:[function(t,e,a){var s=t("./update"),n=t("../common/notice");e.exports=function(t){if(t.preventDefault(),$(".is-invalid-input")[0])return!1;var e=$(".js-task__text_add").val(),a=$(".js-task__time_add").val(),i=$(".js-wheel_select").val(),o=$(".js-wheel_select option:selected").text(),r=$(".js-task__daily-switch")[0].checked;if(0===e.length&&0===a.length)$(".js-task__text_add").addClass("is-invalid-input"),$(".js-task__time_add").addClass("is-invalid-input");else if(0===e.length)$(".js-task__text_add").addClass("is-invalid-input");else if(0===a.length)$(".js-task__time_add").addClass("is-invalid-input");else{var l={text:e,time:a,sector:i,label:o};if(r)l.daily=!0;else{var d=$(".js-urgent")[0].checked,c=$(".js-not-urgent")[0].checked,u=$(".js-important")[0].checked,p=$(".js-not-important")[0].checked;d&&u&&(l.matrixQuater="first"),c&&u&&(l.matrixQuater="second"),d&&p&&(l.matrixQuater="third"),c&&p&&(l.matrixQuater="fourth")}$.ajax({type:"POST",url:"/tasks/add",data:l,dataType:"JSON",success:function(t){s(t)}}).done(function(){$(".js-task__text_add, .js-task__time_add").val(""),$(".js-urgent")[0].checked=!1,$(".js-not-urgent")[0].checked=!1,$(".js-important")[0].checked=!1,$(".js-not-important")[0].checked=!1,$(".js-task_add .js-button_add")[0].disabled=!0,r&&($(".js-task__daily-switch")[0].checked=!1,$(".js-task__matrix").toggle()),n.add(),n.remove("add")})}}},{"../common/notice":13,"./update":38}],17:[function(t,e,a){var s=t("./update"),n=t("../common/notice");e.exports=function(t){t.preventDefault();var e=t.target,a=$(e).closest(".js-task"),i=$(a).attr("data-id"),o=$(a).attr("data-matrix"),r=$(a).attr("data-daily"),l={matrixQuater:o};if(r&&(l.daily=!0),!confirm("Вы уверены, что хотите удалить эту задачу?"))return!1;$.ajax({type:"DELETE",url:"/tasks/delete/"+i,data:l,dataType:"JSON"}).done(function(t){t?(s(t),n.delete(),n.remove("delete")):alert("Error: "+t.msg)})}},{"../common/notice":13,"./update":38}],18:[function(t,e,a){var s=t("../../functional/toggle-on");e.exports=function(t){t.preventDefault(),s();var e=t.target,a=$(e).closest(".js-task");$(".js-task_edit").remove(),$(a).children(".js-task__time, .js-task__text").show()}},{"../../functional/toggle-on":8}],19:[function(t,e,a){var s=t("./update"),n=t("../../functional/toggle-on"),i=t("../common/notice");e.exports=function(t){t.preventDefault();var e=t.target,a=$(e).closest(".js-task"),o=$(a).attr("data-id"),r=$(a).attr("data-daily");if(!confirm("Вы уверены, что хотите обновить эту задачу?"))return!1;var l={text:$(".js-task__text_edit").val(),time:$(".js-task__time_edit").val(),sector:$(".js-task_edit .js-wheel_select_edit").val()};if(r)l.daily=!0,l.label=$(".js-wheel_select_edit option:selected").text();else{var d=$(".js-urgent_edit")[0].checked,c=$(".js-not-urgent_edit")[0].checked,u=$(".js-important_edit")[0].checked,p=$(".js-not-important_edit")[0].checked;d&&u&&(l.matrixQuater="first"),c&&u&&(l.matrixQuater="second"),d&&p&&(l.matrixQuater="third"),c&&p&&(l.matrixQuater="fourth")}$.ajax({type:"PUT",url:"/tasks/update/"+o,data:l,dataType:"JSON",success:function(t){s(t)}}).done(function(){n(),i.save(),i.remove("save")})}},{"../../functional/toggle-on":8,"../common/notice":13,"./update":38}],20:[function(t,e,a){var s=t("./pick-matrix/matrix"),n=t("../common/button"),i=t("../../functional/toggle-off");e.exports=function(t){t.preventDefault(),i();var e=t.target,a=$(e).closest(".js-task");$(a).children(".js-task__time, .js-task__text, .js-task__label, .js-button-group_lora").hide();var o=$(a).children(".js-task__time").text(),r=$(a).children(".js-task__text").text(),l=$(a).attr("data-sector"),d=$(a).attr("data-matrix"),c=$(".js-wheel_select").children(),u=Array.prototype.map.call(c,function(t){return t.value===l?$("<option/>",{value:t.value,text:t.text,selected:!0}):$("<option/>",{value:t.value,text:t.text})});return $(a).append($("<div/>",{class:"js-task_edit"}).append($("<label/>",{text:"Сформируй задачу по SMART"}).append($("<input>",{class:"js-task__text_edit",type:"text",name:"text",value:r})),$("<label/>",{text:"Определи трудозатраты по времени для выполнения задачи"}).append($("<input>",{class:"js-task__time js-task__time_edit",type:"tel",name:"time",pattern:"time",required:!0,value:o})),$("<label/>",{text:"Выбери к какому сектору колеса принадлежит задача"}).append($("<select/>",{class:"js-wheel_select_edit"}).append(u)),s(d),n.save(),n.cancel()))}},{"../../functional/toggle-off":7,"../common/button":12,"./pick-matrix/matrix":27}],21:[function(t,e,a){e.exports=function(){return $(".js-daily-tasks,.tabs-panel,.js-table-first,.js-table-second,.js-table-third,.js-table-fourth").empty()}},{}],22:[function(t,e,a){e.exports=function(){return $(".js-task-form").append($("<form/>",{class:"js-task_add","data-abide":"",novalidate:""}).append($("<label/>",{text:"Сформируй задачу по SMART"}).append($("<input>",{class:"js-task__text_add",type:"text",name:"text",placeholder:"Сделать мем в 4:20",autofocus:!0,required:!0})),$("<label/>",{text:"Определи трудозатраты по времени для выполнения задачи"}).append($("<input>",{class:"js-task__time js-task__time_add",type:"tel",name:"time",placeholder:"00:15",pattern:"time",required:!0})),$("<label/>",{text:"Выбери к какому сектору колеса принадлежит задача"}).append($("<select/>",{class:"js-wheel_select",id:"select",required:!0})),$("<div/>",{class:"js-task__daily",text:"Ежедневная задача"}).append($("<div/>",{class:"switch small"}).append($("<input/>",{class:"switch-input js-task__daily-switch",id:"daily",type:"checkbox",name:"daily"}),$("<label/>",{class:"switch-paddle",for:"daily"}))),$("<div/>",{class:"js-task__matrix",text:"Выбери срочность и важность задачи"}).append($("<div/>",{class:"urgent button-group"}).append($("<input/>",{class:"eisenhower-pick js-urgent",id:"urgent",type:"radio",name:"urgent",required:!0}),$("<label/>",{class:"button",for:"urgent",text:"Срочно"}),$("<input/>",{class:"eisenhower-pick js-not-urgent",id:"not-urgent",type:"radio",name:"urgent"}),$("<label/>",{class:"button",for:"not-urgent",text:"Не срочно"})),$("<div/>",{class:"important button-group"}).append($("<input/>",{class:"eisenhower-pick js-important",id:"important",type:"radio",name:"important",required:!0}),$("<label/>",{class:"button",for:"important",text:"Важно"}),$("<input/>",{class:"eisenhower-pick js-not-important",id:"not-important",type:"radio",name:"important"}),$("<label/>",{class:"button",for:"not-important",text:"Не важно"}))),$("<div/>",{class:"row"}).append($("<div/>",{class:"small-6 columns"}).append($("<button/>",{class:"button js-button_add",type:"submit",disabled:!0,text:"Добавить задачу",value:"Submit"})),$("<div/>",{class:"small-6 columns"}).append($("<button/>",{class:"button secondary js-button_reset",type:"reset",text:"Сброс",value:"Reset"})))))}},{}],23:[function(t,e,a){e.exports=function(){return $(".js-wheel_tabs-content").append($("<div/>",{class:"tabs-panel is-active js-all-tasks",id:"all",role:"tabpanel"}))}},{}],24:[function(t,e,a){e.exports=function(t){return $(".js-wheel_tabs-content").append($("<div/>",{class:"tabs-panel",id:t._id,role:"tabpanel"}))}},{}],25:[function(t,e,a){e.exports=function(){return $("<div/>",{class:"js-task__matrix",text:"Выбери срочность и важность задачи"}).append($("<div/>",{class:"urgent button-group"}).append($("<input/>",{class:"eisenhower-pick js-urgent_edit",id:"urgent_edit",type:"radio",name:"urgent",required:!0,checked:!0}),$("<label/>",{class:"button",for:"urgent_edit",text:"Срочно"}),$("<input/>",{class:"eisenhower-pick js-not-urgent_edit",id:"not-urgent_edit",type:"radio",name:"urgent"}),$("<label/>",{class:"button",for:"not-urgent_edit",text:"Не срочно"})),$("<div/>",{class:"important button-group"}).append($("<input/>",{class:"eisenhower-pick js-important_edit",id:"important_edit",type:"radio",name:"important",required:!0,checked:!0}),$("<label/>",{class:"button",for:"important_edit",text:"Важно"}),$("<input/>",{class:"eisenhower-pick js-not-important_edit",id:"not-important_edit",type:"radio",name:"important"}),$("<label/>",{class:"button",for:"not-important_edit",text:"Не важно"})))}},{}],26:[function(t,e,a){e.exports=function(){return $("<div/>",{class:"js-task__matrix",text:"Выбери срочность и важность задачи"}).append($("<div/>",{class:"urgent button-group"}).append($("<input/>",{class:"eisenhower-pick js-urgent_edit",id:"urgent_edit",type:"radio",name:"urgent",required:!0}),$("<label/>",{class:"button",for:"urgent_edit",text:"Срочно"}),$("<input/>",{class:"eisenhower-pick js-not-urgent_edit",id:"not-urgent_edit",type:"radio",name:"urgent",checked:!0}),$("<label/>",{class:"button",for:"not-urgent_edit",text:"Не срочно"})),$("<div/>",{class:"important button-group"}).append($("<input/>",{class:"eisenhower-pick js-important_edit",id:"important_edit",type:"radio",name:"important",required:!0}),$("<label/>",{class:"button",for:"important_edit",text:"Важно"}),$("<input/>",{class:"eisenhower-pick js-not-important_edit",id:"not-important_edit",type:"radio",name:"important",checked:!0}),$("<label/>",{class:"button",for:"not-important_edit",text:"Не важно"})))}},{}],27:[function(t,e,a){var s=t("./first"),n=t("./second"),i=t("./third"),o=t("./fourth");e.exports=function(t){return"first"===t?s():"second"===t?n():"third"===t?i():"fourth"===t?o():void 0}},{"./first":25,"./fourth":26,"./second":28,"./third":29}],28:[function(t,e,a){e.exports=function(){return $("<div/>",{class:"js-task__matrix",text:"Выбери срочность и важность задачи"}).append($("<div/>",{class:"urgent button-group"}).append($("<input/>",{class:"eisenhower-pick js-urgent_edit",id:"urgent_edit",type:"radio",name:"urgent",required:!0}),$("<label/>",{class:"button",for:"urgent_edit",text:"Срочно"}),$("<input/>",{class:"eisenhower-pick js-not-urgent_edit",id:"not-urgent_edit",type:"radio",name:"urgent",checked:!0}),$("<label/>",{class:"button",for:"not-urgent_edit",text:"Не срочно"})),$("<div/>",{class:"important button-group"}).append($("<input/>",{class:"eisenhower-pick js-important_edit",id:"important_edit",type:"radio",name:"important",required:!0,checked:!0}),$("<label/>",{class:"button",for:"important_edit",text:"Важно"}),$("<input/>",{class:"eisenhower-pick js-not-important_edit",id:"not-important_edit",type:"radio",name:"important"}),$("<label/>",{class:"button",for:"not-important_edit",text:"Не важно"})))}},{}],29:[function(t,e,a){e.exports=function(){return $("<div/>",{class:"js-task__matrix",text:"Выбери срочность и важность задачи"}).append($("<div/>",{class:"urgent button-group"}).append($("<input/>",{class:"eisenhower-pick js-urgent_edit",id:"urgent_edit",type:"radio",name:"urgent",required:!0,checked:!0}),$("<label/>",{class:"button",for:"urgent_edit",text:"Срочно"}),$("<input/>",{class:"eisenhower-pick js-not-urgent_edit",id:"not-urgent_edit",type:"radio",name:"urgent"}),$("<label/>",{class:"button",for:"not-urgent_edit",text:"Не срочно"})),$("<div/>",{class:"important button-group"}).append($("<input/>",{class:"eisenhower-pick js-important_edit",id:"important_edit",type:"radio",name:"important",required:!0}),$("<label/>",{class:"button",for:"important_edit",text:"Важно"}),$("<input/>",{class:"eisenhower-pick js-not-important_edit",id:"not-important_edit",type:"radio",name:"important",checked:!0}),$("<label/>",{class:"button",for:"not-important_edit",text:"Не важно"})))}},{}],30:[function(t,e,a){e.exports=function(t){return $(".js-wheel_select").append($("<option/>",{value:t._id,text:t.title}))}},{}],31:[function(t,e,a){var s=t("./task"),n=t("./time-count");e.exports=function(t){if(0!==t.length){var e=t.important.concat(t.notImportant),a=t.daily;e.forEach(function(t){"first"===t.matrixQuater&&($("#"+t.sector).append(s.first(t)),$(".js-all-tasks").append(s.first(t))),"second"===t.matrixQuater&&($("#"+t.sector).append(s.second(t)),$(".js-all-tasks").append(s.second(t))),$("[data-table-id="+t.sector+"]").children().find(".js-table-"+t.matrixQuater).append(s.default(t)),$("[data-table-id=all]").children().find(".js-table-"+t.matrixQuater).append(s.default(t))});var i=a.length;$(".js-daily-tasks").append($("<div/>",{class:"daily-tasks__task-count",text:"Общее количество ежедневных задач "+i}));var o=n(a);$(".js-daily-tasks").append($("<div/>",{class:"daily-tasks__time-count",text:"Общее время на ежедневные задачи "+o.hours+"ч. "+o.minutes+"мин."})),a.forEach(function(t){$(".js-daily-tasks").append(s.daily(t))})}}},{"./task":36,"./time-count":37}],32:[function(t,e,a){e.exports=function(){return $(".js-wheel_tabs").append($("<li/>",{class:"tabs-title is-active",role:"presentation"}).append($("<a/>",{href:"#all",text:"Все",role:"tab","aria-controls":"all","aria-selected":!0})))}},{}],33:[function(t,e,a){e.exports=function(t){return $(".js-wheel_tabs").append($("<li/>",{class:"tabs-title",role:"presentation"}).append($("<a/>",{href:"#"+t._id,text:t.title,role:"tab","aria-controls":t._id})))}},{}],34:[function(t,e,a){e.exports=function(){return $(".js-table").append($("<table/>",{class:"stack table table-active","data-table-id":"all"}).append($("<tbody/>").append($("<tr/>").append($("<td/>").append($("<div/>",{class:"cell-title cell-title_first",text:"Срочно и важно"}),$("<ul/>",{class:"js-table-first"})),$("<td/>").append($("<div/>",{class:"cell-title cell-title_second",text:"Не срочно и важно"}),$("<ul/>",{class:"js-table-second"}))),$("<tr/>").append($("<td/>").append($("<div/>",{class:"cell-title cell-title_third",text:"Срочно и не важно"}),$("<ul/>",{class:"js-table-third"})),$("<td/>").append($("<div/>",{class:"cell-title cell-title_fourth",text:"Не срочно и не важно"}),$("<ul/>",{class:"js-table-fourth"}))))))}},{}],35:[function(t,e,a){e.exports=function(t){return $(".js-table").append($("<table/>",{class:"stack table","data-table-id":t._id}).append($("<tbody/>").append($("<tr/>").append($("<td/>").append($("<div/>",{class:"cell-title cell-title_first",text:"Срочно и важно"}),$("<ul/>",{class:"js-table-first"})),$("<td/>").append($("<div/>",{class:"cell-title cell-title_second",text:"Не срочно и важно"}),$("<ul/>",{class:"js-table-second"}))),$("<tr/>").append($("<td/>").append($("<div/>",{class:"cell-title cell-title_third",text:"Срочно и не важно"}),$("<ul/>",{class:"js-table-third"})),$("<td/>").append($("<div/>",{class:"cell-title cell-title_fourth",text:"Не срочно и не важно"}),$("<ul/>",{class:"js-table-fourth"}))))))}},{}],36:[function(t,e,a){var s=t("../common/button"),n={};n.default=function(t){return $("<li/>",{class:"task js-task","data-id":t._id,"data-sector":t.sector,"data-matrix":t.matrixQuater}).append($("<div/>",{class:"task__time js-task__time",text:t.time}),$("<div/>",{class:"task__text js-task__text",text:t.text}),$("<div/>",{class:"button-group_lora js-button-group_lora"}).append(s.edit(),s.delete()))},n.daily=function(t){return $("<li/>",{class:"task js-task","data-id":t._id,"data-sector":t.sector,"data-daily":!0}).append($("<div/>",{class:"task__time js-task__time",text:t.time}),$("<span/>",{class:"task__label secondary label js-task__label",text:t.label}),$("<div/>",{class:"task__text js-task__text",text:t.text}),$("<div/>",{class:"button-group_lora js-button-group_lora"}).append(s.edit(),s.delete()))},n.first=function(t){return $("<li/>",{class:"task task__first js-task","data-id":t._id,"data-sector":t.sector,"data-matrix":t.matrixQuater}).append($("<div/>",{class:"task__time js-task__time",text:t.time}),$("<div/>",{class:"task__text js-task__text",text:t.text}),$("<div/>",{class:"button-group_lora js-button-group_lora"}).append(s.edit(),s.delete()))},n.second=function(t){return $("<li/>",{class:"task task__second js-task","data-id":t._id,"data-sector":t.sector,"data-matrix":t.matrixQuater}).append($("<div/>",{class:"task__time js-task__time",text:t.time}),$("<div/>",{class:"task__text js-task__text",text:t.text}),$("<div/>",{class:"button-group_lora js-button-group_lora"}).append(s.edit(),s.delete()))},e.exports=n},{"../common/button":12}],37:[function(t,e,a){e.exports=function(t){var e=0,a=0;return t.forEach(function(t){var s=t.time.split(/:|-|;|\*|#/);e+=parseInt(s[0]),a+=parseInt(s[1])}),a>=60&&(e+=parseInt(a/60),a%=60),{hours:e,minutes:a}}},{}],38:[function(t,e,a){var s=t("./show"),n=t("./empty");e.exports=function(t){n(),s(t)}},{"./empty":21,"./show":31}],39:[function(t,e,a){var s=t("./update"),n=t("../tasks/update"),i=t("../common/notice");e.exports=function(t){t.preventDefault();var e=$(".js-sector__title_add").val(),a=$(".js-sector__score_add").val(),o=$(".js-sector__desirable-score_add").val();if(0===e.length&&0===a.length&&0===o.length)$(".js-sector__title_add").addClass("is-invalid-input"),$(".js-sector__score_add").addClass("is-invalid-input"),$(".js-sector__desirable-score_add").addClass("is-invalid-input");else if(0===e.length)$(".js-sector__title_add").addClass("is-invalid-input");else if(0===a.length)$(".js-sector__score_add").addClass("is-invalid-input");else if(0===o.length)$(".js-sector__desirable-score_add").addClass("is-invalid-input");else{var r={title:e,score:a,desirableScore:o};$.ajax({type:"POST",url:"/sectors/add",data:r,dataType:"JSON",success:function(t){s(t[0].sectors),n(t[0].tasks)}}).done(function(){i.add(),i.remove("add")})}}},{"../common/notice":13,"../tasks/update":38,"./update":47}],40:[function(t,e,a){var s=t("../../functional/toggle-on");e.exports=function(t){t.preventDefault(),s();var e=t.target,a=$(e).closest(".js-sector");$(".js-sector_edit").remove(),$(a).children(".js-sector__title, .js-sector__score").show()}},{"../../functional/toggle-on":8}],41:[function(t,e,a){var s=t("./update"),n=t("../tasks/update"),i=t("../common/notice"),o=t("../../functional/toggle-on");e.exports=function(t){t.preventDefault();var e=t.target,a=$(e).closest(".js-sector"),r=$(a).attr("data-id");if(!confirm("Вы уверены, что хотите обновить этот сектор?"))return!1;var l={title:$(".js-sector__title_edit").val(),score:$(".js-sector__score_edit").val(),desirableScore:$(".js-sector__desirable-score_edit").val()};$.ajax({type:"PUT",url:"/sectors/update/"+r,data:l,dataType:"JSON",success:function(t){s(t[0].sectors),n(t[0].tasks)}}).done(function(){o(),i.save(),i.remove("save")})}},{"../../functional/toggle-on":8,"../common/notice":13,"../tasks/update":38,"./update":47}],42:[function(t,e,a){var s=t("../common/button"),n=t("../../functional/toggle-off");e.exports=function(t){t.preventDefault(),n();var e=t.target,a=$(e).closest(".js-sector"),i=$(a).children(".js-sector__title").text(),o=$(a).children(".js-sector__score").attr("aria-value-score"),r=$(a).children(".js-sector__score").attr("aria-value-desirableScore");return $(a).children(".js-sector__title, .js-sector__score, .js-button-group_lora").hide(),$(a).append($("<div/>",{class:"js-sector_edit"}).append($("<label/>",{text:"Название сектора"}).append($("<input>",{class:"js-sector__title_edit",type:"text",name:"title",value:i})),$("<label/>",{text:"Текущий уровень",for:"score_edit"}),$("<div/>",{class:"input-group"}).append($("<input/>",{class:"input-group-field js-sector__score_edit",id:"score_edit",type:"number",min:"0",max:"10",name:"score",value:o}),$("<label/>",{class:"input-group-label",text:"/10"})),$("<label/>",{text:"Желаемый уровень",for:"desirable-score_edit"}),$("<div/>",{class:"input-group"}).append($("<input/>",{class:"input-group-field js-sector__desirable-score_edit",id:"desirable-score_edit",type:"number",min:"0",max:"10",name:"desirable-score",value:r}),$("<label/>",{class:"input-group-label",text:"/10"})),s.save(),s.cancel()))}},{"../../functional/toggle-off":7,"../common/button":12}],43:[function(t,e,a){e.exports=function(){return $(".js-wheel,.js-wheel_select,.js-wheel_tabs,.js-wheel_tabs-content,.js-table").empty()}},{}],44:[function(t,e,a){e.exports=function(){return $(".js-wheel").append($("<form/>",{class:"js-sector_add","data-abide":"",novalidate:""}).append($("<hr>"),$("<label/>",{text:"Название сектора"}).append($("<input>",{class:"js-sector__title_add",type:"text",placeholder:"Работа/Семья/Хобби и т.п.",name:"title",required:""})),$("<label/>",{text:"Текущий уровень",for:"score"}),$("<div/>",{class:"input-group"}).append($("<input/>",{class:"input-group-field js-sector__score_add",id:"score",type:"number",pattern:"number",min:"0",max:"10",name:"score",required:""}),$("<label/>",{class:"input-group-label",text:"/10"})),$("<label/>",{text:"Желаемый уровень",for:"desirable-score"}),$("<div/>",{class:"input-group"}).append($("<input/>",{class:"input-group-field js-sector__desirable-score_add",id:"desirable-score",type:"number",pattern:"integer",min:"0",max:"10",name:"desirable-score",required:""}),$("<label/>",{class:"input-group-label",text:"/10"})),$("<button/>",{class:"button js-button_add",text:"Добавить сектор",type:"submit"})))}},{}],45:[function(t,e,a){var s=t("../common/button");e.exports=function(t){return $(".js-wheel").append($("<div/>",{class:"js-sector","data-id":t._id}).append($("<div>",{class:"sector__title js-sector__title",text:t.title}),$("<div/>",{class:"progress sector__progress js-sector__score",role:"progressbar","aria-value-score":t.score,"aria-value-desirableScore":t.desirableScore,"aria-valuemin":0,"aria-valuemax":10}).append($("<div/>",{class:"progress-meter sector__desirable-score",style:"width:"+10*t.desirableScore+"%;"}).append($("<div/>",{class:"progress-meter-text sector__progress-text",text:t.desirableScore+"/10"})),$("<div/>",{class:"progress-meter sector__score",style:"width:"+10*t.score+"%;"}).append($("<div/>",{class:"progress-meter-text sector__progress-text",text:t.score+"/10"}))),$("<div/>",{class:"button-group_lora js-button-group_lora"}).append(s.edit())))}},{"../common/button":12}],46:[function(t,e,a){var s=t("../tasks/tab/tab-all"),n=t("../tasks/panel/panel-all"),i=t("../tasks/table/table-all"),o=t("../tasks/tab/tab"),r=t("../tasks/panel/panel"),l=t("../tasks/table/table"),d=t("../tasks/select-options"),c=t("./sector"),u=t("./form");e.exports=function(t){s(),n(),i(),t.forEach(function(t){c(t),d(t),o(t),r(t),l(t)}),t.length<8?u():$(".js-wheel").append($("<div/>",{text:"Вы добавили максимум секторов (8)"}))}},{"../tasks/panel/panel":24,"../tasks/panel/panel-all":23,"../tasks/select-options":30,"../tasks/tab/tab":33,"../tasks/tab/tab-all":32,"../tasks/table/table":35,"../tasks/table/table-all":34,"./form":44,"./sector":45}],47:[function(t,e,a){var s=t("./show"),n=t("./empty");e.exports=function(t){n(),s(t)}},{"./empty":43,"./show":46}]},{},[11]);